# 如何清除 Windows 11 上的 DNS 缓存

> 原文：<https://www.xda-developers.com/how-clear-dns-windows-11/>

如果你长时间使用 Windows 电脑，你的网络连接很有可能会出现问题。这是一种非常常见的情况，其根本原因可能会有很大不同。然而，潜在的罪魁祸首是损坏的或过长的 DNS 缓存。

域名系统(DNS)基本上是世界上每个 web 域的索引。它将一个域与一个 IP 地址相关联，允许您建立到给定网站的连接。为了加快连接速度，Windows 11 通常会存储一个 DNS 缓存，这样你的电脑就可以记住链接到给定 IP 地址的域，从而更快地连接到它。这是互联网工作方式的一个重要部分，但 DNS 缓存可能会被破坏或积累大量不必要的信息，拖慢速度并导致潜在的连接错误。

幸运的是，清除 Windows 11 PC 上的 DNS 缓存相对容易，有多种方法可以做到这一点。让我们来看看其中的一些。

## 使用运行对话框清除 DNS 缓存

可以说，最简单快捷的方式来清除你的电脑上的 DNS 缓存是使用运行对话框。您可能已经很熟悉它了，尤其是如果您喜欢键盘快捷键的话。下面是它的使用方法:

1.  按键盘上的 **Windows 键+ R** 启动运行对话框。
2.  在文本框中输入文本 **ipconfig /flushdns** 。
3.  按 **Ctrl + Shift + Enter** 以管理员权限运行命令。
4.  在提示上点击**是**。

该命令将运行，DNS 缓存将被重置。

## 使用 Windows 终端(PowerShell 和 CMD)清除 DNS 缓存

在 Windows 11 上清除 DNS 缓存的另一种方法是使用 Windows 终端。该工具可以运行 Windows PowerShell 和命令提示符(CMD ),您可以使用其中任何一种配置文件。但是，命令略有不同

1.  右键单击任务栏上的开始菜单图标，选择**终端(管理)**。一些老版本的 Windows 11 可能会说 **Windows 终端(Admin)** 。
2.  根据您的默认配置文件，输入以下命令:
    1.  **Windows PowerShell** **(默认)**:输入 **Clear-DnsClientCache**
    2.  **命令提示符(CMD):** 输入 **ipconfig /flushdns**

3.  您的 DNS 缓存将被清除，在命令提示符的情况下，您会看到一条确认消息。

请注意，Windows 终端不是运行 PowerShell 或命令提示符的唯一方式，您仍然可以使用更传统的方法运行这些工具。你只需要以管理员的身份运行它们，并输入上面的命令。

## 使用批处理文件清除 DNS 缓存

在 Windows 11 上还有另一个清除 DNS 缓存的选项，那就是使用批处理文件。这将运行一个类似于上面的命令，但是因为它是一个文件，所以将来可能更容易再次使用，因为您可以在需要的时候运行它。你需要做的是:

1.  打开**记事本**。
2.  输入文本 **ipconfig /flushdns** 。
3.  点击**文件**，然后点击**另存为**。
4.  在保存对话框中，将**保存类型为**选项更改为**所有类型**。
5.  给文件起你喜欢的名字，但是确保它有**。蝙蝠**在最后。
6.  右键单击您保存的文件并选择**以管理员身份运行**。
7.  该命令将运行并清除您的 DNS 缓存。

现在您已经保存了文件，只要您需要再次清除 PC 上的 DNS 缓存，您就可以以管理员身份运行它。

## 自动清除 DNS 缓存

应该没有必要经常清理 DNS 缓存，但如果你碰巧经常遇到问题，你可以设置 Windows 11 按照设定的时间表自动清理 DNS 缓存。为此，你将需要使用注册表编辑器，这是我们不建议乱用，除非你知道你在做什么。如果你有信心使用它，以下是你应该做的:

1.  打开**注册表编辑器**。
2.  导航到此位置:**HKEY _ LOCAL _ MACHINE \ SYSTEM \ current control set \ Services \ DNS cache \ Parameters**。
3.  右键单击右侧区域中的空白区域。
4.  选择**新建，**然后选择 **DWORD (32 位)值**。
5.  将新值命名为 **MaxCacheTtl** 。
6.  双击您创建的项目以编辑其属性。
7.  将**值数据**字段更改为 DNS 缓存重置所需的时间，以秒为单位。例如，要每 24 小时重置一次缓存，您需要在该字段中输入 **86400** 。
8.  点击**确定**。
9.  再次右击窗口的空白区域，选择 **New** ，然后选择 **DWORD (32 位)值**。
10.  将文件命名为 **MaxNegativeCacheTtl** 。
11.  双击项目以更改其属性，并将**值数据**字段更改为 **5** 。
12.  点击**确定**。

就是这样。您的[神奇的笔记本电脑](https://www.xda-developers.com/best-laptops/)现在将被设置为以您选择的任何节奏自动清除 DNS 缓存。正如我们已经提到的，每天清除 DNS 缓存可能有些夸张，但是如果您想减少这样做的频率，可以设置一个更高的值。

这应该会给你一些清除 Windows 11 PC 上 DNS 缓存的方法，实际上，你只需要一个。只是喜好问题。关于缓存的话题，你可能想看看如何在 Windows 11 上[清除其他缓存文件。或者，要了解更多关于 Windows 11 的其他功能，为什么不看看](https://www.xda-developers.com/how-clear-cache-windows-11/)[如何定制你的 Windows 11 PC](https://www.xda-developers.com/how-customize-windows-11/) ？