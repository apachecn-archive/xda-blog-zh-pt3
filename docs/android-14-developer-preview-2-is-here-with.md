# Android 14 开发者预览版 2 现已发布，提供精选照片访问和其他更改

> 原文：<https://www.xda-developers.com/android-14-developer-preview-2-is-here-with/>

Android 14 的第一个开发者预览版于上个月发布，它为世界上最大的操作系统的下一次迭代奠定了基础。第一个开发者预览版有定制选项和更好的电池寿命承诺，第二个开发者预览版对其中一些变化进行了加倍。此外，它还引入了保护您的安全和隐私的新方法，例如允许您选择应用程序可以在您的设备上访问的照片。

正如标题“开发者预览版”所暗示的，这些版本仅供开发者使用。这是为了测试新功能，并确保他们的应用程序能够在更新的设备上正常工作。会有漏洞，会有其他问题，谷歌将在未来几个月里向*开发者*寻求反馈。如果你不介意遇到问题，那么无论如何，试试 Android 14 吧。然而，如果你依赖你的智能手机持续稳定，那么等待预计在今年下半年发布的完整 Android 14 版本可能是值得的。

Android 14 开发者预览版 2 最显著的功能包括:

*   **让用户对他们的数据拥有更多控制权**:已经引入了一些变化，用户可以选择应用程序在设备上访问哪些特定的照片，这样你就不需要与应用程序共享你的整个照片库。还添加了屏幕截图检测 API，以防止对用户数据的不必要访问。
*   **更多、更安全的登录方式**:一种新的 API 提供了一种安全的无密码登录方式，通过密码登录应用。
*   Android 设备系统健康状况的改善:Android 14 将致力于简化应用程序的运行方式，包括防止它们在冻结时运行，以节省电池寿命和性能。

我们预计还会有其他的变化，我们会密切关注的。

## Android 14 什么时候发布？

对于 Android 更新，谷歌通常会揭示一个“平台稳定性”里程碑，以便开发者可以知道谷歌打算何时交付最终的 SDK/NDK API，以及最终的内部 API 和面向应用的系统行为。谷歌打算在 2023 年 6 月达到平台稳定，在正式发布前至少计划“几周”。Android 13 在 2022 年 6 月达到平台稳定，最终版本是在当年的[8 月](https://www.xda-developers.com/android-13-launched/)发布的[。谷歌发布了更多关于发布时间表的细节，你可以去看看。](https://www.xda-developers.com/android-12-launched/)

## 隐私和安全

### 选定照片访问

Photo Picker 是 Google 随 Android 13 推出的 API。应用程序不需要请求任何权限来访问用户通过照片选择器选择的项目，这使得它成为一种保护隐私的方式来与应用程序共享照片和视频。当我们在第一个 Android 14 开发者预览版中启用它的时候，我们已经详细介绍了这个功能，但基本上，它的工作方式如下。

当一个以 API 级别 33 为目标的应用程序触发运行时权限对话框，要求用户授予他们 READ_MEDIA_VIDEO 或 READ_MEDIA_IMAGES(或两者都有)时，Android 14 可能会在权限对话框中插入一个新条目，上面写着“选择照片”。点击此条目将启动新版本的照片选择器，允许用户选择他们希望授予应用程序访问权限的照片或视频。该应用随后只能访问用户特别选择的那些媒体项目，除非用户选择扩展对附加媒体项目的访问，或者授权该应用访问图像和视频的整个媒体商店集合。

*   **允许访问所有照片**:所有设备上照片&视频的完整库可用。
*   **选择照片**:只有用户选择的照片&视频将暂时通过 MediaStore 提供。
*   **不允许**:拒绝访问所有照片和视频。

### 凭据管理器和密钥

Android 14 增加了[凭证管理器](https://www.xda-developers.com/android-credential-manager-api-alpha/)作为平台 API，并通过带有 Google Play 服务实现的 Jetpack 库一直带到 Android 4.4 和更高版本。它通过支持用于检索和存储凭据的 API 用户配置的凭据提供程序(如密码管理器)来简化登录。

凭证管理器 API 还支持密码，这是无密码认证的新行业标准，比使用用户名和密码登录应用程序更安全。它将允许用户为应用程序创建密钥，并将它们存储在谷歌密码管理器中。存储的密钥将在登录到同一个 Google 帐户的设备之间同步，以获得无缝体验。

### 更安全的隐含意图

对于以 Android 14 为目标的应用程序，创建一个带有隐式意图的可变待定意图将引发一个异常，因此它们不能用于触发意外的代码路径。

### 后台活动启动

为了减少意外中断的情况，Android 14 让前台应用程序能够更多地控制它们与之交互的应用程序启动活动的能力。具体来说，针对 Android 14 的应用程序需要在发送 PendingIntent 或绑定服务时授予权限，以便在后台启动活动。

## 改进的应用体验

### 新软件包安装程序 API

Android 14 引入了许多 PackageInstaller APIs，以简化和改善安装 apk 时的用户体验。其中包括:

*   **requestUserPreapproval()** :允许用户推迟下载 APK，直到安装被批准。
*   **setRequestUpdateOwnership()**:允许安装程序表明它对应用程序的未来更新负责。
*   **setDontKillApp()** :可以在应用程序使用时，通过拆分 apk 无缝安装应用程序的可选功能。

InstallConstraints API 还将使应用程序只在方便的时候更新，比如当应用程序不再使用时。

### 个性化

Android 14 允许你设置地区偏好来个性化温度单位、一周的第一天和编号系统。我们在开发者预览版 1 中也发现了这个特性，并且[通过开发者标志](https://www.xda-developers.com/android-14-regional-preferences/)启用了它。例如，居住在美国的欧洲人可能仍然喜欢使用摄氏度来测量温度。

## 如何在你的谷歌 Pixel 设备上下载并安装 Android 14 开发者预览版 1

您可以轻松下载 Android 开发者预览版 1，如果您不确定如何安装 Android 14，请务必查看我们关于如何安装 Android 14 的指南。

谷歌正式发布了针对 Pixel 7 Pro、Pixel 7、Pixel 6 Pro、Pixel 6、Pixel 5a 5G、Pixel 5 或 Pixel 4a (5G)的开发者预览更新。您可以在 Android Studio 的 Android 模拟器中使用 64 位系统映像。

* * *

*你对最新的开发者预览版有什么想法？你会在你的设备上安装它吗？你的体验如何？请在下面的评论中告诉我们！*