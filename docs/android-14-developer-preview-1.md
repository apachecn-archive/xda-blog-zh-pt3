# Android 14 开发者预览版 1 带来了新的定制选项、更好的电池续航时间等等

> 原文：<https://www.xda-developers.com/android-14-developer-preview-1/>

世界上很少有操作系统可以宣称拥有与 Android 同等的影响力。它为全球超过 25 亿部智能手机提供支持，并且每年都会收到一个新的升级版本，对之前的版本进行了改进。谷歌的第一个 Android 14 开发者预览版现已上线，带来了有利于开发者的变化，同时也改善了设备系统的健康状况，并为用户提供了更多定制服务。

正如标题“开发者预览版”所暗示的，这些版本仅供开发者使用。这是为了测试新功能，并确保他们的应用程序能够在更新的设备上正常工作。会有漏洞，会有其他问题，谷歌将在接下来的几个月里争取来自*开发者*的反馈。如果你不介意遇到问题，那么无论如何，试试 Android 14 吧。然而，如果你依赖你的智能手机持续稳定，那么等待预计在今年下半年发布的完整 Android 14 版本可能是值得的。

Android 14 开发者预览版 1 最显著的功能包括:

*   **API 行为改进**:对 API 行为进行了更改，以便在减少系统资源使用的同时，为用户提供跨设备的更一致的应用体验。还有更新的指导，以帮助开发人员利用多任务和大屏幕特有的功能，为更多设备构建他们的移动应用程序。
*   **电池寿命和系统健康改进**:内部广播系统的改进将有助于提高设备电池寿命和电池消耗效率。
*   **更多定制选项** : Android 14 提供了增强的可访问性和语言功能。
    *   Android 14 让开发者更容易允许用户为单个应用选择他们喜欢的语言，并在以性别语言指代用户时添加对不同称呼的支持。
    *   为了适应弱视用户，Android 14 的字体大小增加了 200%(从 130%增加到 200%)，并具有自动非线性字体缩放功能，以减轻常见的布局问题，使文本更具可读性。

## Android 14 什么时候发布？

对于 Android 更新，谷歌通常会揭示一个“平台稳定性”里程碑，以便开发者可以知道谷歌打算何时交付最终的 SDK/NDK API，以及最终的内部 API 和面向应用的系统行为。谷歌打算在 2023 年 6 月达到平台稳定，在正式发布前至少计划“几周”。Android 13 于 2022 年 6 月达到平台稳定，最终版本于当年的[8 月](https://www.xda-developers.com/android-13-launched/)发布[。谷歌发布了](https://www.xda-developers.com/android-12-launched/)[更多关于发布时间表](https://developer.android.com/about/versions/14/overview)的细节，你可以查看一下。

## Android 14 中的额外定制选项

Android 是关于定制的，在 Android 14 中，有一些变化将使用户能够更好地控制他们正在查看的内容以及他们查看内容的方式。

### 非线性缩放的更大字体

如果你在 Android 13 或更低版本上需要更大的字体大小，你可以将它增加到默认大小的 130%。在 Android 14 中，这一限制将增加到 200%。此外，如果文本变得太大，那么该文本不会以与屏幕上较小文本相同的速度增加。这确保了所有内容都是可读的，同时帮助可能需要额外支持的用户查看屏幕上的内容。

### 每个应用程序的语言首选项

开发人员将能够定制每个应用程序显示的语言集，允许 A/B 实验，并在应用程序利用服务器端本地化推送时提供更新的语言环境。

### 语法变形 API

语法变形 API 允许开发人员轻松地支持使用语法性别语言的用户，如法语或德语。

*   男性:“你好，你好……”
*   女性:“你好吗？”
*   中立:“一种联系……活动”

性别是许多语言所固有的，这使得开发人员更容易支持查看者性别。

## 隐私和安全

### 阻止安装应用程序

从 Android 14 开始，用户将无法在智能手机上轻松下载针对 Android SDK 级或更低级别的应用程序。这是因为一些恶意软件或其他危险的应用程序会以 SDK 22 为目标，以避免受到 Android 6.0 棉花糖引入的运行时权限模型的影响。开发者和爱好者仍然可以使用下面的 [adb](https://www.xda-developers.com/install-adb-windows-macos-linux/) 命令安装旧的应用程序。

```
adb install --bypass-low-target-sdk-block FILENAME.apk
```

### 运行时接收器

以 Android 14 为目标的应用必须指明 dynamic context . register receiver()的使用应被视为“导出”还是“未导出”。

### 更安全的隐含意图

为了防止恶意应用程序拦截意图，针对 Android 14 的应用程序被限制在内部发送未指定软件包的意图。

### 更安全的动态代码加载

动态代码加载允许恶意软件和其他漏洞，因为它允许下载可能被意外操纵的可执行文件。使用动态代码加载的 Android 14 应用程序需要确保加载的文件是只读的。

## 改进的后台处理

### JobScheduler 和前台服务更新和添加

谷歌正在对 JobScheduler 的工作方式和前台服务的设计方式进行一些改变。首先，前台服务应该只保留给最高优先级的面向用户的任务，以便 Android 可以改善资源消耗和电池寿命。也有新的工作，如用户启动的数据传输类型。

还将要求开发人员声明前台服务类型。这个需求允许开发人员清楚地定义后台工作的意图，同时明确哪些用例适合后台服务。Google Play 还将推出新政策，以确保这些 API 的正确使用。

### 优化的广播

这些变化应该不会给开发者带来任何问题，因为它们是 Android 的内部问题，但谷歌正在让开发者意识到这些问题。一旦应用程序进入[缓存状态](https://developer.android.com/guide/components/activities/process-lifecycle)，谷歌已经改变了应用程序接收[上下文注册](https://developer.android.com/guide/components/broadcasts#context-registered-receivers)广播的方式，因为对上下文注册接收器的广播可能会排队，只有在应用程序脱离缓存状态时才会发送给应用程序。此外，一旦应用程序脱离缓存状态，一些重复的上下文注册广播，如 [BATTERY_CHANGED](https://developer.android.com/reference/android/content/Intent#ACTION_BATTERY_CHANGED) ，可能会在交付之前合并为一个最终广播。

## 应用兼容性

随着智能手机的变化，特定的外形(如可折叠)给开发者带来了一个问题。例如，开发人员如何让他们的应用程序工作，并在两种完全不同的外形之间无缝切换？一个应用程序如何可靠地预测一个摄像头被切断的位置？这些都是谷歌一直试图解决的问题，让开发者尽可能容易地查询系统，找出那些具体的参数。

### OpenJDK 17 支持

OpenJDK 17 支持正在引入，以在即将到来的开发者预览版中完全启用 Java 17 特性，包括记录类、多行字符串和的[模式匹配实例。得益于项目主线](https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html)[，谷歌表示，超过 6 亿台设备将能够接收到包括这些变化在内的最新艺术更新。](https://www.xda-developers.com/android-project-mainline-modules-explanation/)

### 更容易的测试和调试

就像去年一样，谷歌将使开发者能够切换新功能。这些开关位于开发人员选项中。

## 如何在你的谷歌 Pixel 设备上下载并安装 Android 14 开发者预览版 1

您可以轻松下载 Android 开发者预览版 1，如果您不确定如何安装 Android 14，请务必查看我们的指南。

谷歌正式发布了针对 Pixel 7 Pro、Pixel 7、Pixel 6 Pro、Pixel 6、Pixel 5a 5G、Pixel 5、Pixel 4a (5G)或 Pixel 4a 的开发者预览更新。您可以在 Android Studio 的 Android 模拟器中使用 64 位系统映像，也可以使用 GSI。

* * *

*你对最新的开发者预览版有什么想法？你会在你的设备上安装它吗？你的体验如何？请在下面的评论中告诉我们！*