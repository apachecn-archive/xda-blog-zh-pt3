<html>
<head>
<title>Android 14 makes root certificates updatable via Google Play to protect users from malicious CAs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android 14使根证书可通过Google Play更新，以保护用户免受恶意ca的攻击</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/android-14-root-certificates-updatable/#0001-01-01">https://www.xda-developers.com/android-14-root-certificates-updatable/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p class="translated">Android有一个轻微的问题，它只会在每个蓝色的月亮上出现一次，但当它出现时，它会引起一些恐慌。幸运的是，谷歌在Android 14中有一个解决方案，将这个问题扼杀在萌芽状态。问题是Android系统的根证书库(root store)在Android存在的大部分时间里只能通过空中下载(OTA)更新。虽然原始设备制造商和运营商在更快、更频繁地推出更新方面做得更好，但事情仍有可能变得更好。这就是为什么谷歌设计了一个解决方案，让Android的根商店可以通过Google Play更新，从<a href="https://www.xda-developers.com/android-14/"> Android 14 </a>开始。</p>

  
<p class="translated">当您每天上网时，您相信您设备的软件配置正确，可以将您指向托管您想要访问的网站的正确服务器。建立正确的连接很重要，这样你就不会被某个心怀不轨的人使用，但是安全地建立连接也很重要，这样你发送到该服务器的任何数据都会在传输过程中被加密(TLS ),希望不会被轻易窥探。但是，如果您的操作系统、web浏览器和应用程序信任服务器的(TLS)安全证书，它们将只与互联网(HTTPS)上的服务器建立安全连接。</p>

<p class="translated">然而，由于互联网上有如此多的网站，操作系统、网络浏览器和应用程序不会维护它们信任的每个网站的安全证书列表。相反，他们会查看是谁签署了发给站点的安全证书:它是自签名的还是由他们信任的另一个实体(证书颁发机构[CA])签署的？这个验证链可以有几层，直到您到达一个根CA，该根CA颁发了用于签署证书的安全证书，该证书最终签署了颁发给您正在访问的站点的证书。</p>

<p class="translated">根CA的数量比拥有由它们直接或通过一个或多个中间CA颁发的安全证书的网站的数量少得多，因此使得操作系统和web浏览器维护它们信任的根CA证书的列表是可行的。例如，Android在/system/etc/security/cacerts的只读系统分区中提供了一个可信根证书列表。如果应用程序没有<a href="https://developer.android.com/training/articles/security-config#LimitingCas" rel="noopener noreferrer" target="_blank">限制信任哪些证书</a>，这种做法被称为证书锁定，那么在决定是否信任安全证书时，它们默认使用操作系统的根存储。由于“系统”分区是只读的，Android的根存储在操作系统更新之外是不可变的，当Google想要删除或添加新的根证书时，这可能会造成问题。</p>





<p class="translated">有时，根证书<a href="https://blog.esper.io/android-14-updatable-certificates/#:~:text=Case%201%3A%20How%20Let%E2%80%99s%20Encrypt%20narrowly%20avoided%20disaster" rel="noopener noreferrer" target="_blank">即将到期</a>，这可能导致网站和服务中断，web浏览器抛出不安全连接的警告。在某些情况下，发布根证书的CA是被怀疑是恶意的<a href="https://blog.esper.io/android-14-updatable-certificates/#:~:text=Case%202%3A%20How%20TrustCor%20lost%20trust" rel="noopener noreferrer" target="_blank">或受到损害的</a>。或者一个<a href="https://letsencrypt.org/2020/09/17/new-root-and-intermediates.html" rel="noopener noreferrer" target="_blank">新的根证书</a>出现，它需要在CA可以真正开始签署证书之前将自己添加到每个主要操作系统的根存储中。Android的根商店不需要经常更新，但它经常发生，以至于Android相对较慢的更新速度成为一个问题。</p>

<p class="translated">然而，从Android 14开始，Android的根商店<a href="https://blog.esper.io/android-14-updatable-certificates/" rel="noopener noreferrer" target="_blank">可以通过Google Play </a>更新。Android 14现在有两个目录包含操作系统的根存储:前面提到的不可变的OTA/system/etc/security/cacerts位置和新的可更新的/apex/com。[Google]. Android . con crypt/security/cacerts目录。后者包含在Conscrypt模块中，这是Android 10中引入的一个项目主线模块，提供Android的TLS实现。由于Conscrypt模块可以通过Google Play系统更新来更新，这意味着Android的根存储也将是如此。</p>

<p class="translated">除了使Android的根存储可更新之外，Android 14还添加和删除了一些根证书，作为谷歌对系统根存储年度更新的一部分。</p>

<p class="translated">Android 14新增的根证书包括:</p>

<ol> <li class="translated">AC RAIZ FNMT-RCM服务公司</li> <li class="translated">ANF安全服务器根CA</li> <li class="translated">CIF A62634068专业认证公司授权</li> <li class="translated">当然支持E1</li> <li class="translated">当然支持R1</li> <li class="translated">Certum EC-384 CA</li> <li class="translated">Certum受信任的根CA</li> <li class="translated">D-TRUST BR根CA 1 2020</li> <li class="translated">D-TRUST EV根CA 1 2020</li> <li class="translated">DigiCert TLS ECC P384 Root G5</li> <li class="translated">DigiCert TLS RSA4096 Root G5</li> <li class="translated">全球信任2020</li> <li class="translated">GlobalSign根E46</li> <li class="translated">GlobalSign Root R46</li> <li class="translated">HARICA TLS ECC根CA 2021</li> <li class="translated">HARICA TLS RSA根CA 2021</li> <li class="translated">HiPKI根CA - G1</li> <li class="translated">ISRG根X2</li> <li class="translated">安全通信ECC RootCA1</li> <li class="translated">安全通信根CA3</li> <li class="translated">Telia Root CA v2</li> <li class="translated">Tugra全局根CA ECC v3</li> <li class="translated">Tugra全局根CA RSA v3</li> <li class="translated">不信任根CA</li> <li class="translated">vTrus ECC根CA</li> <li class="translated">vTrus根CA</li> </ol>

<p class="translated">Android 14中移除的根证书包括:</p>

<ol> <li class="translated">商会根- 2008</li> <li class="translated">网络信任全球根</li> <li class="translated">夏令时根CA X3</li> <li class="translated">欧共体-ACC</li> <li class="translated">GeoTrust主要认证机构- G2</li> <li class="translated">全球张伯伦根2008</li> <li class="translated">全球标志</li> <li class="translated">希腊学术和研究机构RootCA 2011</li> <li class="translated">网络解决方案证书颁发机构</li> <li class="translated">QuoVadis根证书颁发机构</li> <li class="translated">Sonera Class2 CA</li> <li class="translated">荷兰国家公园</li> <li class="translated">荷兰根的状态CA - G3</li> <li class="translated">TrustCor ECA-1</li> <li class="translated">TrustCor RootCert CA-1</li> <li class="translated">TrustCor RootCert CA-2</li> <li class="translated">Trustis FPS根CA</li> <li class="translated">VeriSign通用根证书颁发机构</li> </ol>

<p class="translated">对于TLS证书更深入的解释，你应该在这里阅读我的同事<a href="https://www.xda-developers.com/android-14-updatable-root-certificates/"> Adam Conway的文章</a>。为了更彻底地分析Android 14的可更新根存储如何工作以及它为什么会出现，请查看<a href="https://blog.esper.io/android-14-updatable-certificates/" rel="noopener noreferrer" target="_blank">我之前写的关于这个主题的文章</a>。</p>

 </div>


</div>    
</body>
</html>