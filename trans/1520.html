<html>
<head>
<title>How to check if Camera2 API is enabled on your Android device</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何检查您的Android设备上是否启用了Camera2 API</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/camera2-api/#0001-01-01">https://www.xda-developers.com/camera2-api/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p class="translated">智能手机的硬件通常比软件默认允许的功能更多。这就是为什么谷歌摄像头端口在我们的论坛上变得非常受欢迎的确切原因，因为许多人认为它们是一种在各种设备上大幅提高图像质量的简单方法。通过移植的谷歌相机应用程序，你可以在非谷歌设备上使用谷歌卓越的HDR+优化以及他们的肖像模式。然而，在阅读这些端口时，您一定遇到过一个特殊的术语——“camera 2 API”。在本教程中，您将了解该术语的实际含义，以及如何在您的Android手机上检查Camera2 API支持的状态。</p>

 
<hr/>


<h2 id="what-is-camera2-api" class="translated">什么是Camera2 API？</h2>
<p class="translated">手机上的物理摄像头模块是一个非常复杂的硬件，但Android不需要知道所有的底层参数来与之交互，这要归功于SoC供应商实现的摄像头硬件抽象层(HAL)。相机专用的应用程序编程接口(API)位于HAL之上，充当应用程序级的公共框架。简而言之，相机API允许应用程序以简化的方式探测设备上的相机功能，而不必担心相机传感器的细节。</p>

<p class="translated">谷歌在Android 5.0 Lollipop中引入了<a href="https://developer.android.com/reference/android/hardware/camera2/package-summary.html">相机2 API </a>，作为原始<a href="https://developer.android.com/reference/android/hardware/Camera.html">相机API </a>的继任者，以便更好地定义应用程序如何与连接到智能手机的各个相机进行交互。它向应用程序展示了许多精细的相机控制，包括高效的零拷贝突发/流流以及对曝光、增益、白平衡增益、颜色转换、去噪、锐化等的每帧控制。</p>

<p class="translated">Camera2 API有五种不同的支持级别:</p>

<ul> <li class="translated"><strong>传统:</strong>不支持相机API2功能(如逐帧控制)的传统设备。这些设备通过相机API2接口向应用展示功能，这些功能与通过相机API1接口向应用展示的功能大致相同。</li> <li class="translated"><strong>受限:</strong>这些设备仅支持所有摄像机API2功能的子集。</li> <li class="translated"><strong>完整:</strong>这些设备支持Camera API2的所有主要功能，必须使用Camera HAL 3.2或更高版本以及Android 5.0或更高版本。</li> <li class="translated"><strong> Level_3: </strong>这些设备支持YUV再处理和RAW图像捕捉，以及基于完整Camera2 API支持的附加输出流配置。</li> <li class="translated"><strong>外部:</strong>类似于有限的设备，但有一些例外(例如，一些传感器或镜头信息可能不会被报告，或者帧速率不太稳定)。该级别用于USB网络摄像头等外部摄像头。</li> </ul>

<p class="translated">对于大多数用户来说，你们都应该关心Camera2 API支持的原因是，谷歌相机端口有必要在智能手机上工作。</p>

<hr/>
<p class="ad-odd">
</p>


<h2 id="how-to-check-if-camera2-api-is-enabled" class="translated">如何检查Camera2 API是否启用</h2>
<p class="translated">兼容性测试套件(CTS)的<a href="https://source.android.com/compatibility/cts/camera-hal#its_tests">图像测试套件</a>部分的网页声明，强烈建议运行Android 9或更高版本的<a href="https://www.xda-developers.com/check-phone-tablet-certified-android-before-buying/">认证设备</a>使用Camera2 API支持<a href="https://source.android.com/devices/camera/camera3"> Camera HAL3 </a>。也就是说，过去的许多设备都没有现成的Camera2 API支持。为了启用API，其中一些需要root用户修改他们的build.prop，或者只需要一个解锁的引导加载程序来运行特定于供应商的Fastboot命令。然而最近，事情开始发生变化。</p>

<p class="translated">要了解设备上Camera2 API支持的状态，请选择以下方法之一。</p>

<h3 id="method-1-using-adb" class="translated">方法1:使用亚行</h3>
<p class="translated">在开始使用这种方法之前，请确保您可以访问安装了<a href="https://www.xda-developers.com/install-adb-windows-macos-linux/"> ADB和fast boot</a>的PC/Mac。</p>

<ol> <li class="translated">在手机上，从开发人员选项中打开USB调试。</li> <li class="translated">将您的设备连接到PC/Mac。</li> <li class="translated">打开命令提示符或PowerShell (Windows)或终端窗口(macOS或Linux)。<ul> <li class="translated">如果ADB二进制文件的位置没有在全局路径设置中定义，您必须将shell的工作目录更改为ADB二进制文件所在的位置。</li><p> </p> </ul> </li> <li class="translated">输入以下命令:<pre> <code class="hljs xml">adb shell <span class="hljs-string">"getprop | grep HAL3"</span></code> </pre></li> <li class="translated">如果结果是下列之一:<pre> <code class="hljs css"><span class="hljs-selector-attr">[persist.camera.HAL3.enabled]</span>: <span class="hljs-selector-attr">[1]</span></code> </pre> <pre> <code class="hljs css"><span class="hljs-selector-attr">[persist.vendor.camera.HAL3.enabled]</span>: <span class="hljs-selector-attr">[1]</span></code> </pre>，那么您的设备具有完全支持Camera2 API的Camera HAL3。</li> </ol>



<hr/>

<h3 id="method-2-using-a-terminal-emulator" class="translated">方法2:使用终端模拟器</h3>
<p class="translated">如果你不想使用PC/Mac，那么你可以使用任何终端模拟器应用程序直接从你的手机上检查Camera2 API的状态。</p>

<ol> <li class="translated">下载您选择的终端模拟器应用程序。下面我们列举了几个比较受欢迎的。</li> <li class="translated">打开应用程序，输入以下命令:<pre> <code class="hljs ">getprop | grep HAL3</code> </pre></li> <li class="translated">如果结果是下列之一:<pre> <code class="hljs css"><span class="hljs-selector-attr">[persist.camera.HAL3.enabled]</span>: <span class="hljs-selector-attr">[1]</span></code> </pre> <pre> <code class="hljs css"><span class="hljs-selector-attr">[persist.vendor.camera.HAL3.enabled]</span>: <span class="hljs-selector-attr">[1]</span></code> </pre>，那么您的设备具有完全支持Camera2 API的Camera HAL3。</li> </ol>



<p class="translated">[app box Google play " jackpal . Android term "]</p>

<p class="translated">[appbox fdroid "com.termux"]</p>

<section class="emaki-custom-block emaki-custom-note"><div class="emaki-custom note" id="custom_block_23"><p class="translated">请记住，拥有HAL3支持并不意味着Camera2 API的所有功能都可用，因为公司仍然可以修改功能，如原始拍摄支持、ISO级别、曝光时间等。这就是我们建议选择第三种方法的原因，因为它提供了更精细的信息。</p> </div></section>
<hr/>

<h3 id="method-3-using-a-dedicated-third-party-app" class="translated">方法3:使用专用的第三方应用程序</h3>
<p class="translated">不想摆弄命令行界面？然后只需从谷歌Play商店下载目标Android设备上的Camera2 API Probe应用程序。</p>

<p class="translated">[app box Google play " com . air beat . device . inspector "]</p>

<p class="translated">安装后，该应用程序将根据您设备的相机镜头数量显示两个或更多部分(例如，“相机ID: 0”代表后置相机模块)。在每个相机ID下，您可以找到各种功能及其支持详细信息的子类别。我们对名为“硬件支持级别”的类别特别感兴趣，它显示了设备上的Camera2 API支持级别。</p>



<p class="translated">正如你所看到的，该应用程序不仅找出了你的设备的确切Camera2 API级别，还列出了相机模块支持的其他几个功能。在安装第三方相机应用程序时，这些信息可能会派上用场，比如可以利用这些功能的特定谷歌相机端口。</p>

<p class="translated">如果你想深入挖掘并发现更多关于支持的Camera2(以及CameraX)扩展的信息，试试由XDA公认的开发者Zacharee1开发的<a href="https://www.xda-developers.com/camerax-info-list-camera2-extensions-database/"> CameraX Info </a>。请注意，该应用程序仅列出了您的设备制造商向第三方应用程序公开的功能。它不应该用于枚举内置在原生相机应用程序中的功能。</p>

 



<hr/>

<p class="translated">我们希望您现在可以使用本指南快速发现您的设备上是否启用了Camera2 API。请在评论中告诉我们你喜欢的方法！</p>

 </div>


</div>    
</body>
</html>