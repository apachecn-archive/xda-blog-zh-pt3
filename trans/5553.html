<html>
<head>
<title>Android 14 could let you clone apps so you can use two accounts at the same time</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android 14可以让你克隆应用程序，这样你就可以同时使用两个账户</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/android-14-app-cloning/#0001-01-01">https://www.xda-developers.com/android-14-app-cloning/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p class="translated">一个人可能有多个在线服务账户有很多原因，但如果该服务的Android应用程序不允许你在账户之间切换，那么你就必须找到一个变通办法。也许你在应用程序上有一个登录帐户，在网站上有另一个登录帐户，或者也许你克隆了应用程序，所以你在手机上安装了它的两个实例。</p>

  
<p class="translated">应用程序克隆是解决这个问题的一个非常流行的解决方案，但是除非你的设备的OEM自己实现了这个功能，否则你必须在Google Play或其他地方找到第三方应用程序克隆程序来完成这项工作。这是因为Android本身不支持克隆应用，但随着Android 14的推出，这种情况可能会发生变化。</p>

<p class="translated">谷歌正在测试一项新的“克隆应用”功能，该功能将允许你“创建一个应用的第二个实例，这样你就可以同时使用两个账户。”该功能可能会通过设置&gt;应用&gt;克隆应用下的设置应用提供给用户，如下图所示。</p>





<p class="translated">当你通过“克隆应用”功能克隆你的第一个应用时，Android会创建一个所谓的“克隆用户配置文件”，并将该应用安装到该配置文件中。之后克隆的任何应用程序都会安装到之前创建的相同克隆描述文件中。由于克隆配置文件不与父用户配置文件共享应用程序数据，这意味着你克隆的任何应用程序都不会保留你的登录信息或设置，因此你必须从头开始设置它们。如果您决定不再需要克隆的应用程序，您可以通过“克隆的应用程序”页面或标准的“应用程序信息”界面删除该应用程序。</p>

<p class="translated">虽然“克隆应用”是Android 14中的新功能，但克隆用户档案本身是在Android 12 中首次<a href="https://blog.esper.io/android-12-compatibility-guide/#securitymodelcompat" rel="noopener noreferrer" target="_blank">引入的。然而，除了ADB命令之外，Android还没有为用户提供一种方法来创建个人资料或选择在其上安装应用程序——直到现在。</a></p>

<p class="translated">另一个在以前版本中缺失的关键部分(在Android 14 DP1中仍然缺失)是启动器集成。克隆的应用需要以某种方式与主屏幕上的原始应用区分开来，否则你会一直错误地打开错误的应用。在早期的版本中，启动程序会错误地应用徽章来表示克隆的应用程序属于一个工作配置文件。事实上，启动程序会认为你的设备有一个工作配置文件，而实际上可能根本不存在，这使得你的应用程序抽屉里堆满了工作配置文件标签。而Android 14 DP1中的Pixel Launcher并没有给克隆的应用应用一个工作档案徽章，完全没有区分它们，也延续了创建工作档案标签的bug。至少现在很清楚了，应用克隆正在升级过程中，实际上可以在Android 14中使用。</p>

<p class="translated">不过，这并不是说，如果你的设备没有运行Android 14，你就不能克隆应用。正如我之前提到的，许多Android的OEM版本都有自己的这一功能，也有很多第三方应用程序提供这一功能。在大多数情况下，这些现有的实现通过将应用程序安装到二级用户配置文件中来克隆应用程序。例如，一加的OxygenOS为<a href="https://www.xda-developers.com/add-any-app-oxygenos-parallel-apps-space-oneplus-phones/">的“并行应用”功能</a>创建了一个专用的用户配置文件，然后安装你选择的应用。大多数像<a href="https://f-droid.org/en/packages/net.typeblog.shelter/" rel="noopener noreferrer" target="_blank"> Shelter </a>这样的第三方应用克隆者创建一个工作配置文件，因为这是他们唯一可以用他们可用的API和他们可以获得的特权创建的配置文件。</p>

<p class="translated">虽然将应用程序安装到工作配置文件上确实可以有效地克隆它，但以这种方式使用工作配置文件会带来一些挑战。除了UI冲突之外，工作配置文件与主用户帐户完全隔离，因此文件访问和配置文件之间的文件共享可能会很棘手。另一方面，克隆概要文件只是与它的父概要文件部分隔离。安装在克隆配置文件上的应用程序有自己的专用应用程序数据目录，不能访问保存在父配置文件上原始应用程序的专用应用程序数据目录中的文件，但它们可以访问父配置文件上的应用程序也可以访问的存储或数据。</p>

<p class="translated">Android的克隆配置文件的实现和使用是由CDD或兼容性定义文档定义的。Android 13 CDD <a href="https://source.android.com/docs/compatibility/13/android-13-cdd#95_multi-user_support" rel="noopener noreferrer" target="_blank">声明</a>为运行同一应用程序的双实例创建克隆配置文件是可选的，但我不确定它是否会成为OEM厂商在Android 14中实现的必备功能。现在该功能似乎已经得到了谷歌的支持，然而，我预计尚未实现这种功能的OEM厂商将会简单地采用Android 14的应用克隆实现。</p>

<p class="translated">不过，我应该注意一些警告。首先，这项功能目前正在由谷歌进行测试，所以不能保证它会进入稳定的Android 14版本。这个功能在Android 14 DP1中是默认禁用的，所以我不得不切换一个开发者标志来让这个UI出现在设置应用中。</p>

<p class="translated">此外，可克隆的应用程序列表目前仅限于OEM定义的少数应用程序；我不得不修改一面旗帜，让不和谐、脸书和电报出现在上面的截图中。没有机制或API来选择加入或退出，我不知道这样的东西目前是否正在开发中。我会关注这个特性的进一步发展。</p>

 </div>


</div>    
</body>
</html>